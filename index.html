<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Huhn Klicker</title>
<style>
 body {
   margin: 0;
   display: flex;
   justify-content: center;
   align-items: center;
   height: 100vh;
   background: #f0f0f0;
   font-family: Arial, sans-serif;
 }
 #stats {
   position: absolute;
   top: 20px;
   left: 20px;
   font-size: 24px;
   display: flex;
   align-items: center;
 }
 #egg-container {
   display: flex;
   flex-direction: column;
 }
 #merchant-btn {
   margin-left: 10ch;
 }
 #stats button {
   margin-left: 10px;
 }
 #container {
   position: relative;
 }
  #chicken {
    position: relative;
    z-index: 1;
    font-size: 100px;
    cursor: pointer;
    user-select: none;
  }
  .egg {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    font-size: 40px;
    animation: drop 3s forwards;
    z-index: 0;
  }
 @keyframes drop {
   0% { top: 0; opacity: 1; }
   100% { top: 200px; opacity: 0; }
 }
</style>
</head>
<body>
<div id="stats">
  <div id="egg-container">
    <span id="egg-count">Eier: 0</span>
    <span id="merchant-count">Händler: 0</span>
  </div>
  <button id="merchant-btn" style="display:none;">Händler anheuern (5🪙)</button>
  <button id="sell-btn" style="display:none;">8 Eier verkaufen</button>
  <span id="gold-count" style="margin-left:10px;">🪙 0</span>
</div>
<div id="container">
  <div id="chicken">🐔</div>
</div>
<script>
const chicken = document.getElementById('chicken');
const eggCountEl = document.getElementById('egg-count');
const merchantCountEl = document.getElementById('merchant-count');
const sellBtn = document.getElementById('sell-btn');
const goldCountEl = document.getElementById('gold-count');
const merchantBtn = document.getElementById('merchant-btn');
let count = 0;
let gold = 0;
let merchantCount = 0;
let merchantVisible = false;

function updateDisplays() {
  eggCountEl.textContent = 'Eier: ' + count;
  merchantCountEl.textContent = 'Händler: ' + merchantCount;
  goldCountEl.textContent = '🪙 ' + gold;
  if (!merchantVisible && gold >= 5) {
    merchantBtn.style.display = 'inline';
    merchantVisible = true;
  }
}

// Initial display update
updateDisplays();
chicken.addEventListener('click', () => {
  count++;
  updateDisplays();
  if (count >= 50) {
    sellBtn.style.display = 'inline';
  }

  const egg = document.createElement('div');
  egg.className = 'egg';
  egg.textContent = '🥚';
  document.getElementById('container').appendChild(egg);
  setTimeout(() => egg.remove(), 3000);
});

sellBtn.addEventListener('click', () => {
  if (count >= 8) {
    count -= 8;
    gold += 1;
    updateDisplays();
  }
});

merchantBtn.addEventListener('click', () => {
  if (gold >= 5) {
    gold -= 5;
    merchantCount += 1;
    updateDisplays();
  }
});

setInterval(() => {
  const possibleSales = Math.floor(count / 8);
  const sales = Math.min(merchantCount, possibleSales);
  if (sales > 0) {
    count -= sales * 8;
    gold += sales;
    updateDisplays();
  }
}, 5000);
</script>
</body>
</html>
